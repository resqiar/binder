const dzInput=document.getElementById("dropzone"),dzPreview=document.getElementById("dropzone-preview"),dzRestoreElem=document.getElementById("dropzone-reset");let dzFiles=null;function dzPreviews(){if(!dzFiles)return;const e=[];for(let t=0;t<dzFiles.length;t++){const n=dzFiles[t];if(!n)continue;dzPreview?.replaceChildren();const d=new FileReader;d.onload=function(t){const n=document.createElement("img");n.src=t.target?.result?.toString()??"",e.push(n),e.length===dzFiles?.length&&(dzPreview?.replaceChildren(...e),dzShowReset())},d.readAsDataURL(n)}}function dzValidate(e){if(e.length>5)return alert("Max number of images are only 5"),!1;for(let t=0;t<e.length;t++){const n=e[t];if(!n.type.startsWith("image/"))return alert(`"${n.name}" is not an image`),!1;const d=1048576;if(n.size>d)return alert(`"${n.name}" is exceeding 1MB size`),!1}return!0}function dzRestore(){dzPreview&&dzInput&&(dzFiles=null,dzPreview.replaceChildren(),dzInput.value="",dzShowReset(!1))}function dzShowReset(e=!0){dzRestoreElem&&(dzRestoreElem.style.display=e?"flex":"none")}dzRestoreElem?.addEventListener("click",dzRestore),dzInput?.addEventListener("change",(function(){if(this.files){if(!dzValidate(this.files))return dzInput.value="";dzFiles=this.files,dzPreviews()}}));const dzArea=document.getElementById("droppable-area");function dzHighlight(e=!0){dzArea&&(dzArea.style.border=e?"2px dashed yellow":"none")}function dzDrop(e){let t=e.dataTransfer,n=t?.files;if(dzInput&&n){if(!dzValidate(n))return dzInput.value="";dzFiles=n,dzPreviews(),dzInput.files=n}}["dragenter","dragover","dragleave","drop"].forEach((e=>{dzArea?.addEventListener(e,(function(e){e.preventDefault(),e.stopPropagation()}))})),["dragenter","dragover"].forEach((e=>{dzArea?.addEventListener(e,(()=>dzHighlight(!0)))})),["dragleave","drop"].forEach((e=>{dzArea?.addEventListener(e,(()=>dzHighlight(!1)))})),dzArea?.addEventListener("drop",dzDrop);
